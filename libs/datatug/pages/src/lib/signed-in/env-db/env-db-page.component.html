<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button />
			<ion-back-button defaultHref="../.." />
		</ion-buttons>
		<ion-title *ngIf="envDb"
			><b>{{ envDb.id }}</b> &#64; {{ env?.id }}</ion-title
		>
		<ion-title *ngIf="!envDb">Database: loading...</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-card>
		<ion-item>
			<ion-input
				label="Filter"
				[(ngModel)]="filter"
				(ionChange)="filterRows()"
				placeholder="Filter"
			/>
		</ion-item>

		<ion-segment [(ngModel)]="tab" (ionChange)="tabChanged()">
			<ion-segment-button value="tables">
				<ion-label>
					Tables
					<ion-badge *ngIf="envDb" color="medium">{{
						envDb.tables.length
					}}</ion-badge>
				</ion-label>
			</ion-segment-button>
			<ion-segment-button value="views">
				<ion-label>
					Views
					<ion-badge *ngIf="envDb" color="medium">{{
						envDb.views.length
					}}</ion-badge>
				</ion-label>
			</ion-segment-button>
		</ion-segment>

		<ion-card-content>
			<div #grid></div>
		</ion-card-content>
	</ion-card>
</ion-content>
