<ion-card>
	<ion-list>
		<sneat-country-selector
			[countryID]="vehicleAsset?.brief?.countryID"
			[readonly]="!!vehicleAsset?.brief?.countryID"
			[defaultCountryID]="team?.dto?.countryID"
			label="Country of registration"
			(countryIDChange)="countryChanged($event)"
		/>
		<sneat-asset-reg-number
			*ngIf="vehicleAsset?.dto?.countryID"
			[team]="team"
			[assetID]="vehicleAsset?.id"
			[regNumber]="vehicleAsset?.dto?.extra?.regNumber"
			[countyID]="vehicleAsset?.dto?.countryID"
			[hideSaveButton]="true"
			[isSkipped]="regNumberSkipped"
			(isSkippedChange)="onRegNumberSkipped()"
			(regNumberChange)="onRegNumberChanged($event)"
		/>
	</ion-list>
</ion-card>

<ion-card>
	<sneat-make-model-card
		*ngIf="
			vehicleAsset?.dto?.type &&
			vehicleAsset?.dto?.countryID &&
			(regNumberSkipped || !!vehicleAsset?.dto?.extra?.regNumber)
		"
		[assetType]="vehicleAsset?.dto?.type"
		[make]="vehicleAsset?.dto?.extra?.make"
		[model]="vehicleAsset?.dto?.extra?.model"
		(makeChange)="makeChanged($event)"
		(modelChange)="modelChanged($event)"
	/>
	<ng-container *ngIf="vehicleAsset?.dto?.extra?.model">
		<ion-item-divider>
			<ion-label>Engine</ion-label>
		</ion-item-divider>
		<sneat-vehicle-engine
			[vehicleAsset]="vehicleAsset"
			(vehicleAssetChange)="onAssetChanged($event)"
		/>
	</ng-container>
</ion-card>

<sneat-asset-possession-card
	*ngIf="vehicleAsset?.dto?.extra?.model"
	[asset]="vehicleAsset"
	(assetChange)="onAssetChanged($event)"
/>
