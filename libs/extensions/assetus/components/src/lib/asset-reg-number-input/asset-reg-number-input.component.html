<ion-item>
	<ion-input
		label="Registration #"
		[formControl]="regNumberControl"
		[placeholder]="placeholder"
		(keyup.enter)="submit()"
	/>
	<ion-buttons slot="end">
		<ion-button
			color="medium"
			*ngIf="!isSkipped && !assetID"
			(click)="skipOrNext()"
		>
			@if (regNumberControl.value) {
				Next
			} @else {
				Skip
			}
		</ion-button>
		<ion-button
			fill="solid"
			color="primary"
			*ngIf="!isValidated && (!assetID || regNumberControl.dirty)"
			[disabled]="!regNumberControl.value"
			(click)="validate()"
		>
			<ion-icon name="search-outline" />
			<ion-label>Validate</ion-label>
		</ion-button>
		<ion-button
			*ngIf="assetID && regNumberControl.dirty"
			(click)="
				regNumberControl.setValue(regNumber || '');
				regNumberControl.markAsPristine()
			"
		>
			<ion-label>Cancel</ion-label>
		</ion-button>
		<ion-button
			*ngIf="showSave"
			[color]="isSaving ? 'primary' : undefined"
			[disabled]="isSaving"
			(click)="submit()"
		>
			<ion-icon name="save" slot="start" />
			<ion-label *ngIf="!isSaving">Save</ion-label>
			<ion-label *ngIf="isSaving">Saving...</ion-label>
		</ion-button>
	</ion-buttons>
</ion-item>
